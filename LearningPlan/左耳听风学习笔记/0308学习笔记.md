# 左耳听风-0308学习笔记

## 分布式系统的技术栈
构建分布式系统的目的是增加系统容量，提高系统的可用性，转换成技术方面，就是完成下面两件事。
- 大流量处理。通过集群技术把大规模并发请求的负载分散到不同的机器上。
- 关键业务保护。提高后台服务的可用性，把故障隔离起来阻止多米诺骨牌效应。

### 提高架构的性能的常用技术
#### 缓存系统
加入缓存系统，可以有效的提高系统的访问能力。对于分布式系统下的缓存系统，需要的是一个缓存集群，其中需要一个proxy来做缓存的分片和路由。
#### 负载均衡系统
负载均衡系统是水平扩展的关键技术，它可以使用多台机器来共同分担一部分流量请求。
#### 异步调用
异步系统主要使用消息队列来对请求做排队处理，这样可以把前端的请求的峰值给“削平”了，后端通过自己能够处理的速度来处理请求。这样可以增加系统的吞吐量，但是实时性就会差很多。同时，还会引入消息丢失的问题，所以要对消息做持久化，这会造成“有状态”的节点，从而增加了服务调度的难度。
#### 数据分区和数据镜像
数据分区是把数据按一定的方式分成多个区，不同的数据区来分担不同区的流量。会导致跨库的join和跨库的事务非常复杂。数据镜像是把一个数据库镜像成多份一样的数据，这样就不需要数据路由的中间件了。你可以在任意节点上进行读写，内部会自行同步数据。然而，数据镜像中最大的问题就是数据的一致性问题。

### 提高架构的稳定性的常用技术
#### 服务拆分
服务拆分两个主要目的：一是为了隔离故障，二是为了重用服务模块。但是拆分完之后，会引入服务调用间的依赖问题。
#### 服务冗余
服务冗余是为了去除单点故障，并可以支持服务的弹性伸缩，以及故障迁移。对于有状态的服务来说，服务冗余带来了更高的复杂度。在弹性伸缩时，需要考虑数据的复制或重新分片，迁移的时候还要迁移数据到其他机器上。
#### 限流降级
当系统实在扛不住压力时，只能通过限流或者功能降级的方式来停掉一部分服务，或是拒绝一部分用户，以确保整个架构不会挂掉。
#### 高可用架构
主要是为了不出单点故障
#### 高可用运维
高可用运维指的是持续集成/持续部署。

### 分布式系统的关键技术
#### 服务治理
nacos、zookeeper、dubbo等
#### 架构软件管理
#### DevOps
#### 自动化运维
#### 资源调度管理
#### 整体架构监控
#### 流量控制


此文章为3月Day3学习笔记，内容来源于：极客时间《左耳听风》，强烈推荐此课程。

![](../../img/20230306234244.jpg)